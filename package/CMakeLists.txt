set(PACKAGE_NAME medusa)
set(IGNORE_PATTERNS "/\\\\.git")
set(PACKAGE_FILE_NAME PACKAGE_NAME)

set(CMAKE_INSTALL_SYSTEM_RUNTIME_DESTINATION ".")
include(InstallRequiredSystemLibraries)

set(CPACK_PACKAGE_VERSION_MAJOR "${VERSION_MAJOR}")
set(CPACK_PACKAGE_VERSION_MINOR "${VERSION_MINOR}")
set(CPACK_PACKAGE_VERSION_PATCH "${VERSION_PATCH}")

if (UNIX)
  set(CPACK_GENERATOR "TGZ")
  set(CPACK_SOURCE_GENERATOR "TGZ")
endif (UNIX)

if (WIN32)
  set(CPACK_GENERATOR "WIX")
  set(CPACK_SOURCE_GENERATOR "ZIP")
  set(CPACK_PACKAGE_ICON "${CMAKE_CURRENT_SOURCE_DIR}\\\\medusa.ico")
  set(CPACK_WIX_PRODUCT_ICON "${CMAKE_CURRENT_SOURCE_DIR}\\\\medusa.ico")
  set(CPACK_PACKAGE_VENDOR "wisk")
  set(CPACK_PACKAGE_CONTACT "medusa.disasm@gmail.com")
  set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "An open source disassembler")
  set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_SOURCE_DIR}/LICENSE.txt")
  set(CPACK_WIX_LICENSE_RTF "${CMAKE_SOURCE_DIR}/LICENSE.rtf")
  set(CPACK_PACKAGE_EXECUTABLES "qMedusa.exe;qMedusa")
  set(CPACK_WIX_UPGRADE_GUID "B511341A-C5DA-4403-A09D-D50C2DDE1F44")
endif (WIN32)

set(CPACK_PACKAGE_EXECUTABLES "medusa" "medusa")

include(CPack)
